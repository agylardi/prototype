!function(t){t.fn.SimplePriceCalc=function(a){var e=t.extend({totallabel:"Total:",detailslabel:"Details:",currency:"$"},a),i=0,r=this.find("*"),l=this.find("select"),s=.05,c=.1,p=0,n=0,h=0,u=0,d=0,m=0,o=0,v=0,f=0,b=0,y=0,F=0;function N(){i=0,p=0,totalmult=t(".simple-price-calc #simple-price-total label").attr("data-mult"),multids=[],t("input[data-merge]").each(function(){var a=(a=t(this).data("merge")).split(","),e=1;t.each(a,function(a,i){var r=t("#"+i);"checkbox"!=r.attr("type")&&"radio"!=r.attr("type")||!r.is(":checked")?"text"==r.attr("type")?e*=t("#"+i).val():"SELECT"==r.prop("nodeName")&&(e*=t("#"+i).find(":selected").val()):e*=t("#"+i).val()});var i=e;if(t.isNumeric(i)){var r=parseFloat(t(this).data("price"))||0;t(this).val(i);var l=r*parseFloat(t(this).val());t(this).attr("data-total",l)}}),t("[data-mult-ids]").each(function(){var a=(a=t(this).data("mult-ids")).split(","),e=0;multids=a,t.each(a,function(a,i){var r=t("#"+i);"checkbox"!=r.attr("type")&&"radio"!=r.attr("type")||!r.is(":checked")?"text"==r.attr("type")?e+=parseFloat(t("#"+i).val()):"SELECT"==r.prop("nodeName")&&(e+=parseFloat(t("#"+i).find(":selected").val())):e+=parseFloat(t("#"+i).val())});var i=e,r=parseFloat(t(this).val());if(t.isNumeric(i)){t.isNumeric(r)?0==r?r=-1:r-=1:r=0;var l=i*r;t(this).attr("data-total",l)}}),r.each(function(){itemcost=t(this).attr("data-total")||0,i+=parseFloat(itemcost)}),totalmult&&(i*=parseFloat(totalmult)),p=i+(n=i*c)+(h=i*c*s),u=.75*i+(d=.75*i*c)+(m=.75*i*c*s),o=.5*i+(v=.5*i*c)+(f=.5*i*c*s),b=.25*i+(y=.25*i*c)+(F=.25*i*c*s),t(".simple-price-calc #simple-price-total label.hundred").html(e.currency+t.number(p,2)),t("#simple-price-total p:eq(0) span").html(t.number(n,2)),t("#simple-price-total p:eq(1) span").html(t.number(h,2)),t(".simple-price-calc #simple-price-total label.three-quarter").html(e.currency+t.number(u,2)),t("#simple-price-total p:eq(2) span").html(t.number(d,2)),t("#simple-price-total p:eq(3) span").html(t.number(m,2)),t(".simple-price-calc #simple-price-total label.half").html(e.currency+t.number(o,2)),t("#simple-price-total p:eq(4) span").html(t.number(v,2)),t("#simple-price-total p:eq(5) span").html(t.number(f,2)),t(".simple-price-calc #simple-price-total label.quarter").html(e.currency+t.number(b,2)),t("#simple-price-total p:eq(6) span").html(t.number(y,2)),t("#simple-price-total p:eq(7) span").html(t.number(F,2)),setTimeout(function(){var a,i;a=[],i="",t(".simple-price-calc").find("*").each(function(){if("SELECT"==(i=t(this).prop("tagName")))if(t(this).attr("multiple")){var r=t(this).find(":selected");""!=r&&r.each(function(){var i=t(this).data("label")||"",r=t(this).data("price");""!=i&&a.push(i+": "+e.currency+r)})}else{var l=t(this).find(":selected");if(""!=l){var s=l.data("label")||"",c=l.data("price");""!=s&&a.push(s+": "+e.currency+c)}}if("INPUT"==i&&"text"==t(this).attr("type")&&(t(this).attr("data-price")||t(this).attr("data-mult")||t(this).attr("data-mult-ids"))){var p=t(this).val();if(t.isNumeric(p))var n=parseFloat(p);else n=1;var h=parseFloat(t(this).data("price"))||0,u=p;if(""!=(v=t(this).attr("data-label")||"")&&""!=u)if(t.isNumeric(h)&&0!=h){var d=h*n;a.push(v+": "+e.currency+d)}else a.push(v+": "+u)}if("INPUT"==i&&"hidden"==t(this).attr("type")&&t(this).attr("data-price")){var m=t(this).attr("data-price");""!=(v=t(this).attr("data-label")||"")&&t.isNumeric(m)&&0!=m&&a.push(v+": "+e.currency+m)}if(("INPUT"==i&&"checkbox"==t(this).attr("type")||"radio"==t(this).attr("type"))&&t(this).is(":checked")){var o=t(this).val();if(t.isNumeric(o)){var v,f=o;""!=(v=t(this).attr("data-label")||"")&&a.push(v+": "+e.currency+f)}}}),t("#simple-price-details").html(""),""!=a&&(t("#simple-price-details").append("<h3>"+e.detailslabel+"</h3>"),t.each(a,function(a,e){t("#simple-price-details").append(e+"<br />")}))},100)}return this.updatetotal=function(){setTimeout(function(){N()},100)},this.addClass("simple-price-calc"),l.each(function(){if(t(this).attr("multiple")){var a=t(this).find(":selected"),e=0;""!=a&&a.each(function(){e+=t(this).data("price")}),t(this).attr("data-total",e)}else{var i=t(this).find(":selected");t(this).attr("data-total",i.data("price"))}}),t(".simple-price-calc input[type=text]").each(function(){if(t(this).attr("data-price")||t(this).attr("data-mult")){var a=t(this).val();if(t.isNumeric(a))var e=parseFloat(a);else if(""!=a){alert("Please enter a valid number");var e=1}else e=1;var i=parseFloat(t(this).data("mult"))||0,r=parseFloat(t(this).data("price"))||0;if(t(this).data("prcnt"),t.isNumeric(r)&&0!=r){var l=r*e;t(this).attr("data-total",l)}i&&0!=i&&t("#simple-price-total label").attr("data-mult",e)}}),t(".simple-price-calc input[type=checkbox]").each(function(){if(t(this).is(":checked")){var a=t(this).val();t.isNumeric(a)?t(this).attr("data-total",a):t(this).attr("data-total",0)}else t(this).attr("data-total",0)}),t(".simple-price-calc input[type=radio]").each(function(){if(t(this).is(":checked")){var a=t(this).val();t.isNumeric(a)?t(this).attr("data-total",a):t(this).attr("data-total",0)}else t(this).attr("data-total",0)}),t(".simple-price-calc input[type=hidden]").each(function(){if(t(this).attr("data-price")){var a=t(this).attr("data-price");t.isNumeric(a)&&0!=a&&t(this).attr("data-total",a)}}),N(),l.change(function(){if(t(this).attr("multiple")){var a=t(this).find(":selected"),e=0;""!=a&&a.each(function(){e+=t(this).data("price")}),t(this).attr("data-total",e)}else{var i=t(this).find(":selected");t(this).data("mult")>=0?t("#simple-price-total label").attr("data-mult",i.val()):t(this).attr("data-total",i.data("price"))}N()}),t(".simple-price-calc input[type=text]").change(function(){if(t(this).attr("data-price")||t(this).attr("data-mult")){var a=t(this).val();if(t.isNumeric(a))var e=parseFloat(a);else if(""!=a){alert("Please enter a valid number");e=1}else e=1;var i=parseFloat(t(this).data("mult"))||0,r=parseFloat(t(this).data("price"))||0;t(this).data("prcnt");if(t.isNumeric(r)&&0!=r){var l=r*e;t(this).attr("data-total",l)}i&&0!=i&&t("#simple-price-total label").attr("data-mult",e)}N()}),t(".simple-price-calc input[type=checkbox]").change(function(){if(t(this).is(":checked")){var a=t(this).val();t.isNumeric(a)?t(this).attr("data-total",a):t(this).attr("data-total",0)}else t(this).attr("data-total",0);N()}),t(".simple-price-calc input[type=radio]").change(function(){t(".simple-price-calc input[type=radio]").each(function(){if(t(this).is(":checked")){var a=t(this).val();t.isNumeric(a)?t(this).attr("data-total",a):t(this).attr("data-total",0)}else t(this).attr("data-total",0)}),N()}),this.append('<div id="sidebar"><div id="simple-price-total"><h3>Cost at 100% Usage </h3><label id="simple-price-total-num" class="hundred"> '+e.currency+t.number(p,2)+"</label><hr><p>10% Service Fee: "+e.currency+"<span>"+t.number(n,2)+"</span></p><p>Tax Fee: "+e.currency+"<span>"+t.number(h,2)+'</span></p><h3>Cost at 75% Usage </h3><label id="simple-price-total-num" class="three-quarter"> '+e.currency+t.number(u,2)+"</label><hr><p>10% Service Fee: "+e.currency+"<span>"+t.number(d,2)+"</span></p><p>Tax Fee: "+e.currency+"<span>"+t.number(m,2)+'</span></p><h3>Cost at 50% Usage</h3><label id="simple-price-total-num" class="half"> '+e.currency+t.number(o,2)+"</label><hr><p>10% Service Fee: "+e.currency+"<span>"+t.number(v,2)+"</span></p><p>Tax Fee: "+e.currency+"<span>"+t.number(f,2)+'</span></p><h3>Cost at 25% Usage </h3><label id="simple-price-total-num" class="quarter"> '+e.currency+t.number(b,2)+"</label><hr><p>10% Service Fee: "+e.currency+"<span>"+t.number(y,2)+"</span></p><p>Tax Fee: "+e.currency+"<span>"+t.number(F,2)+"</span></p></div></div>"),this}}(jQuery);