!function(t){t.fn.SimplePriceCalc=function(a){var i=t.extend({totallabel:"Cost @ 100% Usage:",detailslabel:"Details:",currency:"$"},a),e=0,r=this.find("*"),l=this.find("select");function s(){e=0,totalmult=t(".simple-price-calc #simple-price-total label").attr("data-mult"),multids=[],t("input[data-merge]").each(function(){var a=(a=t(this).data("merge")).split(","),i=1;t.each(a,function(a,e)

{var r=t("#"+e);"checkbox"!=r.attr("type")&&"radio"!=r.attr("type")||!r.is(":checked")?"text"==r.attr("type")?i*=t("#"+e).val():"SELECT"==r.prop("nodeName")&&(i*=t("#"+e).find(":selected").val()):i*=t("#"+e).val()});var e=i;if(t.isNumeric(e)){var r=parseFloat(t(this).data("price"))||0;t(this).val(e);var l=r*parseFloat(t(this).val());t(this).attr("data-total",l)}}),t("[data-mult-ids]").each(function(){var a=(a=t(this).data("mult-ids")).split(","),i=0;multids=a,t.each(a,function(a,e){var r=t("#"+e);"checkbox"!=r.attr("type")&&"radio"!=r.attr("type")||!r.is(":checked")?"text"==r.attr("type")?i+=parseFloat(t("#"+e).val()):"SELECT"==r.prop("nodeName")&&(i+=parseFloat(t("#"+e).find(":selected").val())):i+=parseFloat(t("#"+e).val())});var e=i,r=parseFloat(t(this).val());if(t.isNumeric(e)){t.isNumeric(r)?0==r?r=-1:r-=1:r=0;var l=e*r;t(this).attr("data-total",l)}}),r.each(function(){itemcost=t(this).attr("data-total")||0,e+=parseFloat(itemcost)}),totalmult&&(e*=parseFloat(totalmult)),t(".simple-price-calc #simple-price-total label").html(i.currency+t.number(e,2)),setTimeout(function(){var a,e;a=[],e="",t(".simple-price-calc").find("*").each(function(){if("SELECT"==(e=t(this).prop("tagName")))if(t(this).attr("multiple")){var r=t(this).find(":selected");""!=r&&r.each(function(){var e=t(this).data("label")||"",r=t(this).data("price");""!=e&&a.push(e+": "+i.currency+r)})}else{var l=t(this).find(":selected");if(""!=l){var s=l.data("label")||"",c=l.data("price");""!=s&&a.push(s+": "+i.currency+c)}}if("INPUT"==e&&"text"==t(this).attr("type")&&(t(this).attr("data-price")||t(this).attr("data-mult")||t(this).attr("data-mult-ids"))){var h=t(this).val();if(t.isNumeric(h))var p=parseFloat(h);else p=1;var d=parseFloat(t(this).data("price"))||0,n=h;if(""!=(v=t(this).attr("data-label")||"")&&""!=n)if(t.isNumeric(d)&&0!=d){var o=d*p;a.push(v+": "+i.currency+o)}else a.push(v+": "+n)}if("INPUT"==e&&"hidden"==t(this).attr("type")&&t(this).attr("data-price")){var u=t(this).attr("data-price");""!=(v=t(this).attr("data-label")||"")&&t.isNumeric(u)&&0!=u&&a.push(v+": "+i.currency+u)}if(("INPUT"==e&&"checkbox"==t(this).attr("type")||"radio"==t(this).attr("type"))&&t(this).is(":checked")){var m=t(this).val();if(t.isNumeric(m)){var v,f=m;""!=(v=t(this).attr("data-label")||"")&&a.push(v+": "+i.currency+f)}}}),t("#simple-price-details").html(""),""!=a&&(t("#simple-price-details").append("<h3>"+i.detailslabel+"</h3>"),t.each(a,function(a,i){t("#simple-price-details").append(i+"<br />")}))},100)}return this.updatetotal=function(){setTimeout(function(){s()},100)},this.addClass("simple-price-calc"),l.each(function(){if(t(this).attr("multiple")){var a=t(this).find(":selected"),i=0;""!=a&&a.each(function(){i+=t(this).data("price")}),t(this).attr("data-total",i)}else{var e=t(this).find(":selected");t(this).attr("data-total",e.data("price"))}}),t(".simple-price-calc input[type=text]").each(function(){if(t(this).attr("data-price")||t(this).attr("data-mult")){var a=t(this).val();if(t.isNumeric(a))var i=parseFloat(a);else if(""!=a){alert("Please enter a valid number");var i=1}else i=1;var e=parseFloat(t(this).data("mult"))||0,r=parseFloat(t(this).data("price"))||0;if(t(this).data("prcnt"),t.isNumeric(r)&&0!=r){var l=r*i;t(this).attr("data-total",l)}e&&0!=e&&t("#simple-price-total label").attr("data-mult",i)}}),t(".simple-price-calc input[type=checkbox]").each(function(){if(t(this).is(":checked")){var a=t(this).val();t.isNumeric(a)?t(this).attr("data-total",a):t(this).attr("data-total",0)}else t(this).attr("data-total",0)}),t(".simple-price-calc input[type=radio]").each(function(){if(t(this).is(":checked")){var a=t(this).val();t.isNumeric(a)?t(this).attr("data-total",a):t(this).attr("data-total",0)}else t(this).attr("data-total",0)}),t(".simple-price-calc input[type=hidden]").each(function(){if(t(this).attr("data-price")){var a=t(this).attr("data-price");t.isNumeric(a)&&0!=a&&t(this).attr("data-total",a)}}),s(),l.change(function(){if(t(this).attr("multiple")){var a=t(this).find(":selected"),i=0;""!=a&&a.each(function(){i+=t(this).data("price")}),t(this).attr("data-total",i)}else{var e=t(this).find(":selected");t(this).data("mult")>=0?t("#simple-price-total label").attr("data-mult",e.val()):t(this).attr("data-total",e.data("price"))}s()}),t(".simple-price-calc input[type=text]").change(function(){if(t(this).attr("data-price")||t(this).attr("data-mult")){var a=t(this).val();if(t.isNumeric(a))var i=parseFloat(a);else if(""!=a){alert("Please enter a valid number");i=1}else i=1;var e=parseFloat(t(this).data("mult"))||0,r=parseFloat(t(this).data("price"))||0;t(this).data("prcnt");if(t.isNumeric(r)&&0!=r){var l=r*i;t(this).attr("data-total",l)}e&&0!=e&&t("#simple-price-total label").attr("data-mult",i)}s()}),t(".simple-price-calc input[type=checkbox]").change(function(){if(t(this).is(":checked")){var a=t(this).val();t.isNumeric(a)?t(this).attr("data-total",a):t(this).attr("data-total",0)}else t(this).attr("data-total",0);s()}),t(".simple-price-calc input[type=radio]").change(function(){t(".simple-price-calc input[type=radio]").each(function(){if(t(this).is(":checked")){var a=t(this).val();t.isNumeric(a)?t(this).attr("data-total",a):t(this).attr("data-total",0)}else t(this).attr("data-total",0)}),s()}),this.append('<div id="sidebar"><div id="simple-price-total"><h3 style="margin:0;">'+i.totallabel+' </h3><label id="simple-price-total-num"> '+i.currency+t.number(e,2)+' </label></div> <div id="simple-price-details"></div></div>'),this}}(jQuery);